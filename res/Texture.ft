uniform sampler2D tex_0;
varying vec2 tex;
varying float dist;
uniform float end;
uniform float divisor;

void main()
{
	vec4 color = texture2D(tex_0, tex);
	float mult = clamp((dist - end)/divisor, 0.0, 1.0);
	mult *= (1.0 + mult)*0.65;
	gl_FragColor = color*mult;
}