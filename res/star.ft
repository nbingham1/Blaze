varying vec3 MCposition;

uniform sampler3D tex_0;

void main()
{
	vec3 color1 = vec3(0.8, 0.7, 0.0);
	vec3 color2 = vec3(0.6, 0.1, 0.0);
	
	vec4 noisevec = texture3D(tex_0, MCposition/100000000.0);
	float intensity = abs(noisevec[0] - 0.25) +
					  abs(noisevec[1] - 0.125) + 
					  abs(noisevec[2] - 0.0625) + 
					  abs(noisevec[3] - 0.03125);
	intensity = clamp(intensity*6.0, 0.0, 1.0);
	vec3 color = mix(color1, color2, intensity)*1.2;
	gl_FragColor = vec4(color, 1.0);
}
