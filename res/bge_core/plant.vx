uniform vec4 position;
uniform vec4 x;
uniform vec4 y;
uniform vec4 z;
varying vec2 tex_coord;

varying float logz;
uniform float FC;
uniform float C;
uniform float age;

void main()
{
	tex_coord = gl_MultiTexCoord0.xy;
	gl_Position = gl_ModelViewProjectionMatrix*(age*gl_Vertex.x*x + age*gl_Vertex.y*y + age*gl_Vertex.z*z + position);
	logz = log(gl_Position.z*C + 1.0)*FC;
}
